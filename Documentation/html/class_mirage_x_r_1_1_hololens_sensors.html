<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MirageXR Documentation: HololensSensors Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="wekit-logo-v7_620x620.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MirageXR Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_mirage_x_r_1_1_hololens_sensors.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_mirage_x_r_1_1_hololens_sensors-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">HololensSensors Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for HololensSensors:</div>
<div class="dyncontent">
<div class="center"><img src="class_mirage_x_r_1_1_hololens_sensors__inherit__graph.png" border="0" usemap="#a_hololens_sensors_inherit__map" alt="Inheritance graph"/></div>
<map name="_hololens_sensors_inherit__map" id="_hololens_sensors_inherit__map">
<area shape="rect" title=" " alt="" coords="5,155,125,181"/>
<area shape="rect" href="class_mirage_x_r_1_1_sensor_base.html" title=" " alt="" coords="19,80,112,107"/>
<area shape="rect" title=" " alt="" coords="10,5,121,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for HololensSensors:</div>
<div class="dyncontent">
<div class="center"><img src="class_mirage_x_r_1_1_hololens_sensors__coll__graph.png" border="0" usemap="#a_hololens_sensors_coll__map" alt="Collaboration graph"/></div>
<map name="_hololens_sensors_coll__map" id="_hololens_sensors_coll__map">
<area shape="rect" title=" " alt="" coords="337,307,457,333"/>
<area shape="rect" href="class_mirage_x_r_1_1_sensor_base.html" title=" " alt="" coords="350,231,443,257"/>
<area shape="rect" title=" " alt="" coords="5,140,116,167"/>
<area shape="rect" title=" " alt="" coords="164,5,211,32"/>
<area shape="rect" href="class_mirage_x_r_1_1_sensor_data_frame.html" title="The serializable custom class in which the gathered data will be stored, one instance for each frame ..." alt="" coords="333,140,460,167"/>
<area shape="rect" title=" " alt="" coords="283,5,337,32"/>
<area shape="rect" title=" " alt="" coords="377,5,416,32"/>
<area shape="rect" title=" " alt="" coords="478,5,545,32"/>
<area shape="rect" title=" " alt="" coords="639,5,685,32"/>
<area shape="rect" title=" " alt="" coords="786,140,893,167"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0b9e4903ff496f0ba402ad017975ab7a"><td class="memItemLeft" align="right" valign="top">override void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mirage_x_r_1_1_hololens_sensors.html#a0b9e4903ff496f0ba402ad017975ab7a">FixedFrameUpdate</a> ()</td></tr>
<tr class="memdesc:a0b9e4903ff496f0ba402ad017975ab7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">FixedFrameUpdate is used (instead of Update) to set the sensor update frame rate to the desired interval. The routine is registered in Start(). The public float updateInterval can be overridden in order to change the frequency.  <a href="class_mirage_x_r_1_1_hololens_sensors.html#a0b9e4903ff496f0ba402ad017975ab7a">More...</a><br /></td></tr>
<tr class="separator:a0b9e4903ff496f0ba402ad017975ab7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_mirage_x_r_1_1_sensor_base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_mirage_x_r_1_1_sensor_base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_mirage_x_r_1_1_sensor_base.html">SensorBase</a></td></tr>
<tr class="memitem:a1ce6b68f982ebfd26b7f5a53327904e0 inherit pub_methods_class_mirage_x_r_1_1_sensor_base"><td class="memItemLeft" align="right" valign="top"><a id="a1ce6b68f982ebfd26b7f5a53327904e0"></a>
delegate void&#160;</td><td class="memItemRight" valign="bottom"><b>CallbackStack</b> (<a class="el" href="class_mirage_x_r_1_1_sensor_data_frame.html">SensorDataFrame</a> currentFrame)</td></tr>
<tr class="separator:a1ce6b68f982ebfd26b7f5a53327904e0 inherit pub_methods_class_mirage_x_r_1_1_sensor_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bd678c01e486ffa6ba862135e57a016 inherit pub_methods_class_mirage_x_r_1_1_sensor_base"><td class="memItemLeft" align="right" valign="top"><a id="a0bd678c01e486ffa6ba862135e57a016"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>WarmUp</b> ()</td></tr>
<tr class="separator:a0bd678c01e486ffa6ba862135e57a016 inherit pub_methods_class_mirage_x_r_1_1_sensor_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abee9305512d208bb371e392828ccfba0 inherit pub_methods_class_mirage_x_r_1_1_sensor_base"><td class="memItemLeft" align="right" valign="top"><a id="abee9305512d208bb371e392828ccfba0"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>StartCapture</b> ()</td></tr>
<tr class="separator:abee9305512d208bb371e392828ccfba0 inherit pub_methods_class_mirage_x_r_1_1_sensor_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85d50790ac6dc29d685631f023a4a764 inherit pub_methods_class_mirage_x_r_1_1_sensor_base"><td class="memItemLeft" align="right" valign="top"><a id="a85d50790ac6dc29d685631f023a4a764"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>StopCapture</b> ()</td></tr>
<tr class="separator:a85d50790ac6dc29d685631f023a4a764 inherit pub_methods_class_mirage_x_r_1_1_sensor_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a722b18cb048d8b9bb89294a2b5a131f4 inherit pub_methods_class_mirage_x_r_1_1_sensor_base"><td class="memItemLeft" align="right" valign="top"><a id="a722b18cb048d8b9bb89294a2b5a131f4"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>RegisterStreamListener</b> (CallbackStack fun)</td></tr>
<tr class="separator:a722b18cb048d8b9bb89294a2b5a131f4 inherit pub_methods_class_mirage_x_r_1_1_sensor_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1d7e7517d71d342514d8987f0746739 inherit pub_methods_class_mirage_x_r_1_1_sensor_base"><td class="memItemLeft" align="right" valign="top"><a id="ac1d7e7517d71d342514d8987f0746739"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>UnregisterStreamListener</b> (CallbackStack fun)</td></tr>
<tr class="separator:ac1d7e7517d71d342514d8987f0746739 inherit pub_methods_class_mirage_x_r_1_1_sensor_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_attribs_class_mirage_x_r_1_1_sensor_base"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_class_mirage_x_r_1_1_sensor_base')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="class_mirage_x_r_1_1_sensor_base.html">SensorBase</a></td></tr>
<tr class="memitem:ab3d29993559a26e410b3a0be7cacef12 inherit pub_attribs_class_mirage_x_r_1_1_sensor_base"><td class="memItemLeft" align="right" valign="top"><a id="ab3d29993559a26e410b3a0be7cacef12"></a>
CallbackStack&#160;</td><td class="memItemRight" valign="bottom"><b>OnSensorStreamUpdate</b></td></tr>
<tr class="separator:ab3d29993559a26e410b3a0be7cacef12 inherit pub_attribs_class_mirage_x_r_1_1_sensor_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c4f1e55a5f898fd0b384a6a7193e7e4 inherit pub_attribs_class_mirage_x_r_1_1_sensor_base"><td class="memItemLeft" align="right" valign="top"><a id="a6c4f1e55a5f898fd0b384a6a7193e7e4"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>updateInterval</b> = 0.04f</td></tr>
<tr class="separator:a6c4f1e55a5f898fd0b384a6a7193e7e4 inherit pub_attribs_class_mirage_x_r_1_1_sensor_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a063f059dd78c20be190dde509fee42e6 inherit pub_attribs_class_mirage_x_r_1_1_sensor_base"><td class="memItemLeft" align="right" valign="top"><a id="a063f059dd78c20be190dde509fee42e6"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>updateInitialDelay</b> = 0.3f</td></tr>
<tr class="separator:a063f059dd78c20be190dde509fee42e6 inherit pub_attribs_class_mirage_x_r_1_1_sensor_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9fdd808fe744841557bfb193dc87176 inherit pub_attribs_class_mirage_x_r_1_1_sensor_base"><td class="memItemLeft" align="right" valign="top"><a id="ae9fdd808fe744841557bfb193dc87176"></a>
<a class="el" href="class_mirage_x_r_1_1_sensor_data_frame.html">SensorDataFrame</a>&#160;</td><td class="memItemRight" valign="bottom"><b>currentSensorDataFrame</b></td></tr>
<tr class="separator:ae9fdd808fe744841557bfb193dc87176 inherit pub_attribs_class_mirage_x_r_1_1_sensor_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaa86cbd88875817d7896b26080d35d4 inherit pub_attribs_class_mirage_x_r_1_1_sensor_base"><td class="memItemLeft" align="right" valign="top"><a id="aaaa86cbd88875817d7896b26080d35d4"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>recording</b> = false</td></tr>
<tr class="separator:aaaa86cbd88875817d7896b26080d35d4 inherit pub_attribs_class_mirage_x_r_1_1_sensor_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab36823025f12a809217f7771125658c2 inherit pub_attribs_class_mirage_x_r_1_1_sensor_base"><td class="memItemLeft" align="right" valign="top"><a id="ab36823025f12a809217f7771125658c2"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>connected</b> = false</td></tr>
<tr class="separator:ab36823025f12a809217f7771125658c2 inherit pub_attribs_class_mirage_x_r_1_1_sensor_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="_hololens_sensors_8cs_source.html#l00010">10</a> of file <a class="el" href="_hololens_sensors_8cs_source.html">HololensSensors.cs</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a0b9e4903ff496f0ba402ad017975ab7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b9e4903ff496f0ba402ad017975ab7a">&#9670;&nbsp;</a></span>FixedFrameUpdate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">override void FixedFrameUpdate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>FixedFrameUpdate is used (instead of Update) to set the sensor update frame rate to the desired interval. The routine is registered in Start(). The public float updateInterval can be overridden in order to change the frequency. </p>

<p>Reimplemented from <a class="el" href="class_mirage_x_r_1_1_sensor_base.html#a05772e637eb5f1d45bdc666b5464e55a">SensorBase</a>.</p>

<p class="definition">Definition at line <a class="el" href="_hololens_sensors_8cs_source.html#l00025">25</a> of file <a class="el" href="_hololens_sensors_8cs_source.html">HololensSensors.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        {</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;            var cameraTransform = Camera.main.transform;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;            </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;            currentSensorDataFrame = <span class="keyword">new</span> SensorDataFrame();</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;            <span class="comment">//Check if the raycast from the user&#39;s head in the direction of his gaze hit an object.</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;            currentSensorDataFrame.CastHit = Physics.Raycast(currentSensorDataFrame.HeadPosition, currentSensorDataFrame.GazeDirection, out hitInfo);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            <span class="comment">// add timestamp</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;            <span class="comment">//Get user&#39;s head position</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;            currentSensorDataFrame.HeadPosition = cameraTransform.position;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;            <span class="comment">// Get user&#39;s gaze direction</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            currentSensorDataFrame.GazeDirection = Camera.main.transform.forward;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;            <span class="comment">// Get hands&#39; positions (if visible)</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            <span class="keywordflow">if</span> (HandJointUtils.TryGetJointPose(TrackedHandJoint.Wrist, Handedness.Left, out MixedRealityPose leftPose))</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;            {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                currentSensorDataFrame.HandPosition1 = leftPose.Position;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;            }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            <span class="keywordflow">if</span> (HandJointUtils.TryGetJointPose(TrackedHandJoint.Wrist, Handedness.Right, out MixedRealityPose rightPose))</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;            {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                currentSensorDataFrame.HandPosition2 = rightPose.Position;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            <span class="comment">// call base to execute callback stack for listeners</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            base.FixedFrameUpdate();</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        } <span class="comment">// Update()</span></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_hololens_sensors_8cs_source.html">HololensSensors.cs</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_mirage_x_r.html">MirageXR</a></li><li class="navelem"><a class="el" href="class_mirage_x_r_1_1_hololens_sensors.html">HololensSensors</a></li>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
